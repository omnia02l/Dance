<p-tabMenu [model]="items"></p-tabMenu>

<div class="col-4">
  <div class="card">
    <h1>Select one category</h1>
    <p-dropdown [options]="categories" [(ngModel)]="getWithCategory" placeholder="Select category"></p-dropdown>
    <br>
    <button pButton pRipple type="button" label="Search" class="p-button-rounded" (click)="getListWithCategory()"></button>
  </div>
</div>
<br>
<br>
<br>

<div class="col-12">
  <div class="card">
    <p-toast></p-toast>
    <p-toolbar styleClass="mb-4">
      <ng-template pTemplate="left">
        <div class="my-2">
          <button pButton pRipple type="button" label="Toggle Weekends" class="p-button-rounded" (click)="toggleWeekends()"></button>
        </div>
      </ng-template>
    </p-toolbar>
    <full-calendar  [options]="options"></full-calendar>
    <p-dialog header="Training Details"  [(visible)]="displayTrainingInformationDialog" [modal]="true" [style]="{width: '550px'}" [baseZIndex]="10000"
              [draggable]="false" [resizable]="false" [closable]="false">
      <ng-template pTemplate="content">
        <div class="field">
          <h5 style="color: #0b5ed7">- Status :</h5>
          <span *ngIf="participationStatus===true" style="color: #007bff; font-size: large">Attending</span>
          <span *ngIf="participationStatus===false" style="color: #d8363a; font-size: large">Not Attending</span>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Training name :</h5>
          <p class="m-0">{{trainingResponse.trainingName}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Description :</h5>
          <p class="m-0">{{trainingResponse.trainingDescription}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Available :</h5>
          <p class="m-0">{{trainingResponse.capacity + '    Place(s)'}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Start :</h5>
          <p class="m-0">{{trainingResponse.start | date : 'medium'}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- End :</h5>
          <p class="m-0">{{trainingResponse.end | date : 'medium'}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Coach :</h5>
          <p class="m-0">{{trainingResponse.coachName}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Dance Hall :</h5>
          <p class="m-0">{{trainingResponse.danceHallName}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Dance hall address :</h5>
          <p class="m-0">{{trainingResponse.danceHallAddress}}</p>
        </div>
        <div class="field">
          <h5 style="color: #0b5ed7">- Participants :</h5>
          <p-table [value]="trainingResponse.trainingParticipantList!" [rowHover]="true" [rows]="5" [paginator]="true" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
            <ng-template pTemplate="header">
              <tr>
                <th>Name</th>
                <th>Phone number</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-participant>
              <tr>
                <td style="font-weight: bold">{{participant.participantName}}</td>
                <td style="font-weight: bold">{{participant.phoneNumber}}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </ng-template>
      <ng-template pTemplate="footer">
        <button pButton pRipple label="Join" icon="pi pi-check" [disabled]="participationStatus===true" (click)="join()"></button>
        <button pButton pRipple label="Cancel" icon="pi pi-trash"  [disabled]="participationStatus===false" (click)="cancel()"></button>
        <button pButton pRipple label="Close" icon="pi pi-times" (click)="displayTrainingInformationDialog=false"></button>
      </ng-template>
    </p-dialog>

  </div>
</div>
